@{
    ViewBag.Title = "Store Settings";
    Layout = "~/Views/Shared/_AdminDashboardLayout.cshtml";
}

<style>
    /* Button styles to match dashboard theme */
    .btn-outline-primary {
        color: var(--primary);
        border-color: var(--primary);
    }

        .btn-outline-primary:hover {
            background-color: var(--primary);
            border-color: var(--primary);
            color: var(--dark);
        }

    .btn-outline-danger {
        color: var(--danger);
        border-color: var(--danger);
    }

        .btn-outline-danger:hover {
            background-color: var(--danger);
            color: white;
        }

    .btn-outline-secondary {
        color: var(--secondary);
        border-color: var(--secondary);
    }

        .btn-outline-secondary:hover {
            background-color: var(--secondary);
            color: white;
        }

    /* Improve form switch appearance */
    .form-check-input:checked {
        background-color: var(--primary);
        border-color: var(--primary);
    }

    /* Tab styling */
    .nav-tabs .nav-link {
        color: var(--dark);
        font-weight: 500;
        padding: 0.75rem 1.25rem;
    }

        .nav-tabs .nav-link.active {
            font-weight: 600;
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }

    /* Input group styling */
    .input-group-text {
        background-color: var(--primary);
        border-color: var(--primary);
    }

    /* Actions buttons */
    .btn-sm {
        padding: 0.25rem 0.5rem;
        font-size: 0.875rem;
    }

    /* Table action buttons spacing */
    td .btn-sm + .btn-sm {
        margin-left: 0.25rem;
    }
</style>

<div class="container-fluid px-0">
    <div class="row mb-4">
        <div class="col-12">
            <div class="d-flex justify-content-between align-items-center">
                <h1 class="h3 mb-0">Store Settings</h1>
                <button id="saveAllSettings" class="btn btn-primary">
                    <i class="fas fa-save me-2"></i>Save All Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Navigation Tabs -->
    <div class="row mb-4">
        <div class="col-12">
            <ul class="nav nav-tabs" id="settingsTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="general-tab" data-bs-toggle="tab" data-bs-target="#general" type="button" role="tab" aria-controls="general" aria-selected="true">
                        <i class="fas fa-cog me-2"></i>General
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="store-tab" data-bs-toggle="tab" data-bs-target="#store" type="button" role="tab" aria-controls="store" aria-selected="false">
                        <i class="fas fa-store me-2"></i>Store
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="payment-tab" data-bs-toggle="tab" data-bs-target="#payment" type="button" role="tab" aria-controls="payment" aria-selected="false">
                        <i class="fas fa-credit-card me-2"></i>Payment
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="shipping-tab" data-bs-toggle="tab" data-bs-target="#shipping" type="button" role="tab" aria-controls="shipping" aria-selected="false">
                        <i class="fas fa-truck me-2"></i>Shipping
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="email-tab" data-bs-toggle="tab" data-bs-target="#email" type="button" role="tab" aria-controls="email" aria-selected="false">
                        <i class="fas fa-envelope me-2"></i>Email
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <!-- Tab Content -->
    <div class="tab-content" id="settingsTabsContent">
        <!-- General Settings -->
        <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
            <div class="row">
                <div class="col-lg-8">
                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Website Information</h5>
                        <form>
                            <div class="mb-3">
                                <label for="siteName" class="form-label">Store Name</label>
                                <input type="text" class="form-control" id="siteName" value="Beekeeping Store">
                            </div>
                            <div class="mb-3">
                                <label for="siteTagline" class="form-label">Tagline</label>
                                <input type="text" class="form-control" id="siteTagline" value="Quality honey and beekeeping products">
                            </div>
                            <div class="mb-3">
                                <label for="siteDescription" class="form-label">Store Description</label>
                                <textarea class="form-control" id="siteDescription" rows="3">Your one-stop shop for all beekeeping supplies and pure, natural honey products.</textarea>
                            </div>
                            <div class="mb-3">
                                <label for="contactEmail" class="form-label">Contact Email</label>
                                <input type="email" class="form-control" id="contactEmail" value="contact@beekeepingstore.com">
                            </div>
                            <div class="mb-3">
                                <label for="contactPhone" class="form-label">Contact Phone</label>
                                <input type="text" class="form-control" id="contactPhone" value="+373 22 123456">
                            </div>
                        </form>
                    </div>

                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Address & Location</h5>
                        <form>
                            <div class="mb-3">
                                <label for="storeAddress" class="form-label">Store Address</label>
                                <textarea class="form-control" id="storeAddress" rows="3">123 Honey Lane, Chisinau, Moldova</textarea>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="latitude" class="form-label">Latitude</label>
                                        <input type="text" class="form-control" id="latitude" value="47.0105">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="mb-3">
                                        <label for="longitude" class="form-label">Longitude</label>
                                        <input type="text" class="form-control" id="longitude" value="28.8638">
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Store Logo</h5>
                        <div class="text-center mb-3">
                            <img src="https://via.placeholder.com/200x100?text=Store+Logo" alt="Store Logo" class="img-fluid mb-3">
                        </div>
                        <div class="d-grid">
                            <button type="button" class="btn btn-outline-primary">
                                <i class="fas fa-upload me-2"></i>Change Logo
                            </button>
                        </div>
                    </div>

                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Social Media</h5>
                        <form>
                            <div class="input-group mb-3">
                                <span class="input-group-text"><i class="fab fa-facebook-f"></i></span>
                                <input type="text" class="form-control" placeholder="Facebook URL" value="https://facebook.com/beekeepingstore">
                            </div>
                            <div class="input-group mb-3">
                                <span class="input-group-text"><i class="fab fa-instagram"></i></span>
                                <input type="text" class="form-control" placeholder="Instagram URL" value="https://instagram.com/beekeepingstore">
                            </div>
                            <div class="input-group mb-3">
                                <span class="input-group-text"><i class="fab fa-twitter"></i></span>
                                <input type="text" class="form-control" placeholder="Twitter URL" value="">
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Store Settings -->
        <div class="tab-pane fade" id="store" role="tabpanel" aria-labelledby="store-tab">
            <div class="row">
                <div class="col-lg-6">
                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Store Settings</h5>
                        <form>
                            <div class="mb-3">
                                <label for="defaultCurrency" class="form-label">Default Currency</label>
                                <select class="form-select" id="defaultCurrency">
                                    <option value="MDL" selected>Moldovan Leu (MDL)</option>
                                    <option value="EUR">Euro (EUR)</option>
                                    <option value="USD">US Dollar (USD)</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="weightUnit" class="form-label">Weight Unit</label>
                                <select class="form-select" id="weightUnit">
                                    <option value="kg" selected>Kilogram (kg)</option>
                                    <option value="g">Gram (g)</option>
                                    <option value="lb">Pound (lb)</option>
                                    <option value="oz">Ounce (oz)</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="enableReviews" checked>
                                    <label class="form-check-label" for="enableReviews">Enable Product Reviews</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="enableWishlist" checked>
                                    <label class="form-check-label" for="enableWishlist">Enable Wishlist Feature</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="showStockStatus" checked>
                                    <label class="form-check-label" for="showStockStatus">Show Stock Status</label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Tax Settings</h5>
                        <form>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="includeTax" checked>
                                    <label class="form-check-label" for="includeTax">Prices Include Tax</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="taxRate" class="form-label">Standard Tax Rate (%)</label>
                                <input type="number" class="form-control" id="taxRate" value="20">
                            </div>
                            <div class="mb-3">
                                <label for="reducedTaxRate" class="form-label">Reduced Tax Rate (%)</label>
                                <input type="number" class="form-control" id="reducedTaxRate" value="8">
                            </div>
                        </form>
                    </div>

                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Inventory Settings</h5>
                        <form>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="manageStock" checked>
                                    <label class="form-check-label" for="manageStock">Manage Stock</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="lowStockThreshold" class="form-label">Low Stock Threshold</label>
                                <input type="number" class="form-control" id="lowStockThreshold" value="5">
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="notifyLowStock" checked>
                                    <label class="form-check-label" for="notifyLowStock">Notify on Low Stock</label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Settings -->
        <div class="tab-pane fade" id="payment" role="tabpanel" aria-labelledby="payment-tab">
            <div class="stat-card mb-4">
                <h5 class="card-title mb-3">Payment Methods</h5>
                <div class="mb-4">
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="enableCardPayment" checked>
                        <label class="form-check-label" for="enableCardPayment">Credit/Debit Card</label>
                    </div>
                    <div id="cardPaymentSettings" class="ps-4 mb-3">
                        <div class="mb-2">
                            <label for="stripePublicKey" class="form-label">Stripe Public Key</label>
                            <input type="text" class="form-control" id="stripePublicKey" value="pk_test_XXXXXXXXXXXXXXXXXXXXXXXX">
                        </div>
                        <div class="mb-2">
                            <label for="stripeSecretKey" class="form-label">Stripe Secret Key</label>
                            <input type="password" class="form-control" id="stripeSecretKey" value="sk_test_XXXXXXXXXXXXXXXXXXXXXXXX">
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="enableBankTransfer" checked>
                        <label class="form-check-label" for="enableBankTransfer">Bank Transfer</label>
                    </div>
                    <div id="bankTransferSettings" class="ps-4 mb-3">
                        <div class="mb-2">
                            <label for="bankName" class="form-label">Bank Name</label>
                            <input type="text" class="form-control" id="bankName" value="Banca Comercială Română">
                        </div>
                        <div class="mb-2">
                            <label for="accountName" class="form-label">Account Name</label>
                            <input type="text" class="form-control" id="accountName" value="BeekeepingStore SRL">
                        </div>
                        <div class="mb-2">
                            <label for="accountNumber" class="form-label">Account Number</label>
                            <input type="text" class="form-control" id="accountNumber" value="RO49RNCB0082044172720001">
                        </div>
                        <div class="mb-2">
                            <label for="bankTransferInstructions" class="form-label">Bank Transfer Instructions</label>
                            <textarea class="form-control" id="bankTransferInstructions" rows="3">Please transfer the total amount to our bank account. Your order will be processed once the payment is confirmed.</textarea>
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="enableCashOnDelivery">
                        <label class="form-check-label" for="enableCashOnDelivery">Cash on Delivery</label>
                    </div>
                    <div id="cashOnDeliverySettings" class="ps-4 mb-3">
                        <div class="mb-2">
                            <label for="codFee" class="form-label">Cash on Delivery Fee</label>
                            <input type="number" class="form-control" id="codFee" value="20">
                        </div>
                        <div class="mb-2">
                            <label for="codInstructions" class="form-label">Cash on Delivery Instructions</label>
                            <textarea class="form-control" id="codInstructions" rows="3">Please have the exact amount ready when your order arrives. Our delivery person will provide a receipt.</textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shipping Settings -->
        <div class="tab-pane fade" id="shipping" role="tabpanel" aria-labelledby="shipping-tab">
            <div class="stat-card mb-4">
                <h5 class="card-title mb-3">Shipping Methods</h5>
                <div class="mb-4">
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="enableFlatRate" checked>
                        <label class="form-check-label" for="enableFlatRate">Flat Rate Shipping</label>
                    </div>
                    <div id="flatRateSettings" class="ps-4 mb-3">
                        <div class="mb-2">
                            <label for="flatRateCost" class="form-label">Flat Rate Cost</label>
                            <input type="number" class="form-control" id="flatRateCost" value="50">
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="enableFreeShipping" checked>
                        <label class="form-check-label" for="enableFreeShipping">Free Shipping</label>
                    </div>
                    <div id="freeShippingSettings" class="ps-4 mb-3">
                        <div class="mb-2">
                            <label for="freeShippingMinimum" class="form-label">Minimum Order Amount for Free Shipping</label>
                            <input type="number" class="form-control" id="freeShippingMinimum" value="500">
                        </div>
                    </div>
                </div>

                <div class="mb-4">
                    <div class="form-check form-switch mb-2">
                        <input class="form-check-input" type="checkbox" id="enableExpressShipping">
                        <label class="form-check-label" for="enableExpressShipping">Express Shipping</label>
                    </div>
                    <div id="expressShippingSettings" class="ps-4 mb-3">
                        <div class="mb-2">
                            <label for="expressShippingCost" class="form-label">Express Shipping Cost</label>
                            <input type="number" class="form-control" id="expressShippingCost" value="100">
                        </div>
                    </div>
                </div>
            </div>

            <div class="stat-card mb-4">
                <h5 class="card-title mb-3">Shipping Zones</h5>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Zone Name</th>
                                <th>Regions</th>
                                <th>Shipping Methods</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Moldova</td>
                                <td>All regions</td>
                                <td>Flat Rate, Free Shipping</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                </td>
                            </tr>
                            <tr>
                                <td>Europe</td>
                                <td>EU Countries</td>
                                <td>International Shipping</td>
                                <td>
                                    <button class="btn btn-sm btn-outline-primary"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-outline-danger"><i class="fas fa-trash"></i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="mt-3">
                    <button class="btn btn-primary">
                        <i class="fas fa-plus me-2"></i>Add Shipping Zone
                    </button>
                </div>
            </div>
        </div>

        <!-- Email Settings -->
        <div class="tab-pane fade" id="email" role="tabpanel" aria-labelledby="email-tab">
            <div class="row">
                <div class="col-lg-6">
                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Email Configuration</h5>
                        <form>
                            <div class="mb-3">
                                <label for="emailFrom" class="form-label">From Email</label>
                                <input type="email" class="form-control" id="emailFrom" value="noreply@beekeepingstore.com">
                            </div>
                            <div class="mb-3">
                                <label for="emailFromName" class="form-label">From Name</label>
                                <input type="text" class="form-control" id="emailFromName" value="Beekeeping Store">
                            </div>
                            <div class="mb-3">
                                <label for="smtpHost" class="form-label">SMTP Host</label>
                                <input type="text" class="form-control" id="smtpHost" value="smtp.example.com">
                            </div>
                            <div class="mb-3">
                                <label for="smtpPort" class="form-label">SMTP Port</label>
                                <input type="number" class="form-control" id="smtpPort" value="587">
                            </div>
                            <div class="mb-3">
                                <label for="smtpUsername" class="form-label">SMTP Username</label>
                                <input type="text" class="form-control" id="smtpUsername" value="username@example.com">
                            </div>
                            <div class="mb-3">
                                <label for="smtpPassword" class="form-label">SMTP Password</label>
                                <input type="password" class="form-control" id="smtpPassword" value="password">
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="smtpSsl" checked>
                                    <label class="form-check-label" for="smtpSsl">Use SSL/TLS</label>
                                </div>
                            </div>
                            <div class="d-grid">
                                <button type="button" class="btn btn-outline-primary">
                                    <i class="fas fa-paper-plane me-2"></i>Send Test Email
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="col-lg-6">
                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Email Templates</h5>
                        <div class="list-group">
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Order Confirmation
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Order Shipped
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Order Delivered
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Payment Confirmation
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Password Reset
                                <i class="fas fa-chevron-right"></i>
                            </a>
                            <a href="#" class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
                                Welcome Email
                                <i class="fas fa-chevron-right"></i>
                            </a>
                        </div>
                    </div>

                    <div class="stat-card mb-4">
                        <h5 class="card-title mb-3">Email Notifications</h5>
                        <form>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="notifyNewOrder" checked>
                                    <label class="form-check-label" for="notifyNewOrder">New Order Notifications</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="notifyLowInventory" checked>
                                    <label class="form-check-label" for="notifyLowInventory">Low Inventory Alerts</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="notifyProductReview" checked>
                                    <label class="form-check-label" for="notifyProductReview">Product Review Notifications</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <div class="form-check form-switch">
                                    <input class="form-check-input" type="checkbox" id="notifyContactForm" checked>
                                    <label class="form-check-label" for="notifyContactForm">Contact Form Submissions</label>
                                </div>
                            </div>
                            <div class="mb-3">
                                <label for="adminEmails" class="form-label">Admin Notification Emails</label>
                                <textarea class="form-control" id="adminEmails" rows="3">admin@beekeepingstore.com, manager@beekeepingstore.com</textarea>
                                <div class="form-text">Separate multiple emails with commas</div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Save settings
            document.getElementById('saveAllSettings').addEventListener('click', function () {
                // In a real implementation, this would save the settings to the database
                alert('Settings saved successfully!');
            });

            // Toggle settings sections based on checkbox state
            document.querySelectorAll('.form-check-input').forEach(checkbox => {
                checkbox.addEventListener('change', function () {
                    const targetId = this.id.replace('enable', '') + 'Settings';
                    const targetElement = document.getElementById(targetId);

                    if (targetElement) {
                        if (this.checked) {
                            targetElement.style.display = 'block';
                        } else {
                            targetElement.style.display = 'none';
                        }
                    }
                });

                // Initialize state on page load
                const targetId = checkbox.id.replace('enable', '') + 'Settings';
                const targetElement = document.getElementById(targetId);

                if (targetElement && !checkbox.checked) {
                    targetElement.style.display = 'none';
                }
            });
        });
    </script>
} 